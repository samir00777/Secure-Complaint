<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Signup</title>

<style>
body{
  font-family:Arial;
  background:#f2f2f2;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.box{
  background:#fff;
  padding:20px;
  width:320px;
  border-radius:8px;
}
input,select,button{
  width:100%;
  padding:8px;
  margin:6px 0;
  box-sizing: border-box; /* Ensures padding doesn't break width */
}
button{
  background:#2563eb;
  color:white;
  border:none;
  cursor:pointer;
}
.hidden{display:none}
.small-btn{
  background:#16a34a;
}
</style>
</head>

<body>

<form method="POST" action="/signup">
<div class="box">
  <h2>Signup</h2>

  <select name="role" id="role" onchange="roleSelected()" required>
    <option value="">Select Role</option>
    <option value="student">Student</option>
    <option value="teacher">Teacher</option>
    <option value="head">Head</option>
  </select>

  <div id="method" class="hidden">
    <select id="methodSelect" name="method" onchange="methodSelected(this.value)" required>
      <option value="">Signup Using</option>
      <option value="phone">Phone Number</option>
      <option value="email">Email</option>
    </select>
  </div>

  <div id="phoneBox" class="hidden">
    <input type="text" name="phone" placeholder="Phone Number">
    <input type="password" name="password" placeholder="Password">
    </div>

  <div id="emailBox" class="hidden">
    <input type="email" name="email" placeholder="Email">
    <input type="password" name="password" placeholder="Password">
    <button type="button" class="small-btn" onclick="sendOTP()">Send OTP</button>
  </div>

  <div id="otpBox" class="hidden">
    <input type="text" name="otp" placeholder="Enter OTP">
  </div>

  <button type="submit">Verify & Sign Up</button>
</div>
</form>

<script>
function roleSelected(){
  document.getElementById("method").classList.remove("hidden");
}

function methodSelected(v){
  // Hide everything first
  document.getElementById("phoneBox").classList.add("hidden");
  document.getElementById("emailBox").classList.add("hidden");
  document.getElementById("otpBox").classList.add("hidden");

  // Show only relevant boxes
  if(v === "phone") {
    document.getElementById("phoneBox").classList.remove("hidden");
  } 
  if(v === "email") {
    document.getElementById("emailBox").classList.remove("hidden");
  }
}

function sendOTP(){
  alert("OTP Sent to Email Successfully");
  document.getElementById("otpBox").classList.remove("hidden");
}
</script>

</body>
</html>